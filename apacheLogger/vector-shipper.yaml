data_dir: "/Users/davidpark/Desktop/unilogs/vector_data"

sources:
  app_logs:
    type: file
    include:
      - /Users/davidpark/Desktop/unilogs/apacheLogger/logs/app.log

# transforms:
#   parse_logs:
#     type: remap
#     inputs:
#       - app_logs
#     source: |
#       match = find(.message, r'\[(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z)\]')
#       if match != null &&

sinks:
  kafka:
    type: kafka
    inputs:
      - app_logs
    bootstrap_servers: "ac8badb5bb03245d4bd023e74951faae-e5a554883e4ff7f3.elb.us-west-2.amazonaws.com:9094, a4056d3f900b24eb0887998c2d4cf455-fb762e058384a2f0.elb.us-west-2.amazonaws.com:9094, adc4c629d3b91467c86f8526e265b07b-f05f36391db9f61d.elb.us-west-2.amazonaws.com:9094"
    topic: app_logs_topic
    encoding:
      codec: json
  
  console:
    type: console
    inputs:
      - app_logs
    encoding:
      codec: json